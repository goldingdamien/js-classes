<html>
    <head>
        <title>Drawable Canvas Example</title>
        <script src="../class/Drawer.js"></script>
        <script src="../class/DrawableCanvas.js"></script>
        <script>
            window.addEventListener('load', function(){
                window.drawableCanvas = new DrawableCanvas({
                    Drawer: Drawer
                });
                var parentElement = document.getElementById('canvas-wrapper');
                window.drawableCanvas.append(parentElement);
            });
        </script>
        <script>
            function action(){
                var selectElement = document.getElementById('action-selection');
                var e = selectElement;
                var handleName = e.options[e.selectedIndex].value;

                var handleArgs = {
                    setColor: ['red'],
                    setPenSize: [5],
                    setTextSize: [30],
                    setTextFont: ['sans-serif']
                };

                var args = handleArgs[handleName] || [];

                window.drawableCanvas[handleName](...args);
            }
        </script>
    </head>
    <body>
        <h1>Drawable Canvas Example</h1>
        <div id="canvas-wrapper">
            <!-- CANVAS ADDED HERE -->
        </div>
        <div>
            <code>
                Usage:
                var settings = {
                    Drawer: Drawer
                };
                var drawableCanvas = new DrawableCanvas(settings);
                drawableCanvas.append(element);
            </code>

            <div>
                <select id="action-selection">
                    <option value="setColor">setColor(color)</option>
                    <option value="setPenSize">setPenSize(px)</option>
                    <option value="setTextSize">setTextSize(px)</option>
                    <option value="setTextFont">setTextFont(px)</option>
                    <!--<option value="executeTool">executeTool(toolName, listener, args)</option>-->
                    
                </select>
                <input type="button" value="Action" onclick="action();">
            </div>

            Available settings: <br><br>

            format: 'canvas'<br>
            width: width of canvas in px as number.<br>
            height: height of canvas in px as number.<br>
            background_color: background color of canvas.<br>
            store_states: boolean. Whether to store undo, redo states(In testing).<br>
            allow_interaction: boolean. Whether to add event listeners for free drawing.<br>
            auto_append: boolean. Whether to auto append canvas to DOM. Auto appends to body element.<br>
        </div>
    </body>
</html>